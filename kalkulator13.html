<!DOCTYPE html>
<html lang="pl">
<head>
	<meta charset="UTF-8">
	<title>Skrypty-JS Kalkulator 13</title>
	<link rel="stylesheet" href="style.css">
	<style>
		.radioContainer {
			display: grid;
			grid-template-columns: repeat(2, 1fr);
			gap: 10px;
			margin-bottom: 15px;
		}
		.radioContainer label {
			display: flex;
			align-items: center;
			background-color: rgba(255,255,255,0.2);
			padding: 10px;
			border-radius: 5px;
			cursor: pointer;
			transition: background-color 0.3s ease;
		}
		.radioContainer input[type="radio"] {
			margin-right: 10px;
			width: auto;
			height: auto;
		}
		.radioContainer label:hover {
			background-color: rgba(255,255,255,0.3);
		}
		.radioContainer input[type="radio"]:checked + span {
			font-weight: bold;
		}
	</style>
	<script>
		const kursy = {
			"PLN": 1,
			"EUR": 0.22,
			"GBP": 0.19,
			"CHF": 0.20,
			"SEK": 2.50,
			"NOK": 2.30,
			"DKK": 1.65,
			"HUF": 85,
			"CZK": 5.30,
			"RON": 1.10,
			"BGN": 0.44
		};

		async function fetchkursy() {
			try {
				const response = await fetch('https://api.exchangerate-api.com/v4/latest/PLN');
				const data = await response.json();

				kursy["EUR"] = data.rates["EUR"];
				kursy["GBP"] = data.rates["GBP"];
				kursy["CHF"] = data.rates["CHF"];
				kursy["SEK"] = data.rates["SEK"];
				kursy["NOK"] = data.rates["NOK"];
				kursy["DKK"] = data.rates["DKK"];
				kursy["HUF"] = data.rates["HUF"];
				kursy["CZK"] = data.rates["CZK"];
				kursy["RON"] = data.rates["RON"];
				kursy["BGN"] = data.rates["BGN"];

				aktualizacja();
			} catch (error) {
				console.error("Could not fetch exchange rates:", error);
				aktualizacja();
			}
		}

		function aktualizacja() {
			const currencyIds = [
				"waluta0kursy", "waluta1kursy", "waluta2kursy",
				"waluta3kursy", "waluta4kursy", "waluta5kursy",
				"waluta6kursy", "waluta7kursy", "waluta8kursy",
				"waluta9kursy", "waluta10kursy"
			];

			const currencies = [
				"PLN", "EUR", "GBP", "CHF", "SEK", "NOK",
				"DKK", "HUF", "CZK", "RON", "BGN"
			];

			currencies.forEach((currency, index) => {
				const rateElement = document.getElementById(currencyIds[index]);
				if (rateElement) {
					rateElement.value = kursy[currency].toFixed(2);
				}
			});
		}

		document.addEventListener('DOMContentLoaded', () => {
			fetchkursy();
			setInterval(fetchkursy, 3600000);

			const input1 = document.getElementById("num1");
			const input2 = document.getElementById("num2");
			const radioButtons = document.querySelectorAll('input[name="currency"]');
			const otherCurrencyRadios = document.querySelectorAll('input[name="other-currency"]');
			const currency1Span = document.getElementById("currency1");
			const currency2Span = document.getElementById("currency2");

			function convertCurrency() {
				const selectedCurrency = document.querySelector('input[name="other-currency"]:checked')?.value || 'EUR';
				const inputValue = parseFloat(input1.value) || 0;

				if (document.getElementById("radio1").checked) {
					input2.value = (inputValue * kursy[selectedCurrency]).toFixed(2);
					currency1Span.textContent = 'PLN';
					currency2Span.textContent = selectedCurrency;
				} else {
					input2.value = (inputValue / kursy[selectedCurrency]).toFixed(2);
					currency1Span.textContent = selectedCurrency;
					currency2Span.textContent = 'PLN';
				}
			}

			input1.addEventListener('input', convertCurrency);
			radioButtons.forEach(radio => radio.addEventListener('change', convertCurrency));
			otherCurrencyRadios.forEach(radio => radio.addEventListener('change', convertCurrency));
		});
	</script>
</head>
<body>
<header>
	<h1>Skrypty-JS</h1>
	<nav>
		<a href="kalkulator13.html">Kalkulator 13</a>
		<a href="kalkulator11.html">Kalkulator 11</a>
		<a href="kalkulator9.html">Kalkulator 9</a>
		<a href="kalkulator7.html">Kalkulator 7</a>
		<a href="kalkulator5.html">Kalkulator 5</a>
		<a href="kalkulator3.html">Kalkulator 3</a>
		<a href="kalkulator1.html">Kalkulator 1</a>
		<div class="linia"></div>
		<a href="index.html">Strona Główna</a>
		<div class="linia"></div>
		<a href="kalkulator2.html">Kalkulator 2</a>
		<a href="kalkulator4.html">Kalkulator 4</a>
		<a href="kalkulator6.html">Kalkulator 6</a>
		<a href="kalkulator8.html">Kalkulator 8</a>
		<a href="kalkulator10.html">Kalkulator 10</a>
		<a href="kalkulator12.html">Kalkulator 12</a>
		<a href="kalkulator14.html">Kalkulator 14</a>
	</nav>
</header>
<div class="asideMainKontener">
	<main>
		<label for="num1">Kwota</label>
		<div class="inputKontener">
			<input type="number" id="num1" min="0.00" value="0.00" step="0.01">
			<span class="waluta" id="currency1">PLN</span>
		</div>

		<label for="num2">Przeliczona kwota</label>
		<div class="inputKontener">
			<input type="number" id="num2" readonly value="0.00">
			<span class="waluta" id="currency2">-</span>
		</div>

		<div class="radioContainer">
			<label>
				<input type="radio" name="currency" id="radio1" value="PLN" checked>
				<span>PLN → Inna</span>
			</label>
			<label>
				<input type="radio" name="currency" id="radio2" value="PLN">
				<span>Inna → PLN</span>
			</label>
		</div>

		<div class="radioContainer">
			<label>
				<input type="radio" name="other-currency" value="EUR">
				<span>Euro (EUR)</span>
			</label>
			<label>
				<input type="radio" name="other-currency" value="GBP">
				<span>Funt szterling (GBP)</span>
			</label>
			<label>
				<input type="radio" name="other-currency" value="CHF">
				<span>Frank szwajcarski (CHF)</span>
			</label>
			<label>
				<input type="radio" name="other-currency" value="SEK">
				<span>Korona szwedzka (SEK)</span>
			</label>
			<label>
				<input type="radio" name="other-currency" value="NOK">
				<span>Korona norweska (NOK)</span>
			</label>
			<label>
				<input type="radio" name="other-currency" value="DKK">
				<span>Korona duńska (DKK)</span>
			</label>
			<label>
				<input type="radio" name="other-currency" value="HUF">
				<span>Forint węgierski (HUF)</span>
			</label>
			<label>
				<input type="radio" name="other-currency" value="CZK">
				<span>Korona czeska (CZK)</span>
			</label>
			<label>
				<input type="radio" name="other-currency" value="RON">
				<span>Lej rumuński (RON)</span>
			</label>
			<label>
				<input type="radio" name="other-currency" value="BGN">
				<span>Lew bułgarski (BGN)</span>
			</label>
		</div>
	</main>
	<aside>
		<label>Kursy</label>
		<span class="walutyKontener1">
			<input type="number" readonly id="waluta0kursy">
			<label for="waluta1kursy">Złoty (PLN)</label>
			<input type="number" readonly id="waluta1kursy">
			<label for="waluta1kursy">Euro (EUR)</label>
			<input type="number" readonly id="waluta2kursy">
			<label for="waluta2kursy">Funt szterling (GBP)</label>
			<input type="number" readonly id="waluta3kursy">
			<label for="waluta3kursy">Frank szwajcarski (CHF)</label>
			<input type="number" readonly id="waluta4kursy">
			<label for="waluta4kursy">Korona szwedzka (SEK)</label>
			<input type="number" readonly id="waluta5kursy">
			<label for="waluta5kursy">Korona norweska (NOK)</label>
			<input type="number" readonly id="waluta6kursy">
			<label for="waluta6kursy">Korona duńska (DKK)</label>
			<input type="number" readonly id="waluta7kursy">
			<label for="waluta7kursy">Forint węgierski (HUF)</label>
			<input type="number" readonly id="waluta8kursy">
			<label for="waluta8kursy">Korona czeska (CZK)</label>
			<input type="number" readonly id="waluta9kursy">
			<label for="waluta9kursy">Lej rumuński (RON)</label>
			<input type="number" readonly id="waluta10kursy">
			<label for="waluta10kursy">Lew bułgarski (BGN)</label>
		</span>
	</aside>
</div>
<footer>
	<h3>Jan.K-2TP Gr.1</h3>
</footer>
</body>
</html>